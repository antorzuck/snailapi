import json

class Response:
    def __init__(self):
        self.data = "something went wrong. check route"
        self.status_code = "404 NOT FOUND"
        self.headers = []
        
    def asgi(self, start_response):
        print(self.headers)
        start_response(self.status_code, self.headers)
        return self.data
        
        
    def send(self, data, status_code="200 OK"):
        if isinstance(data, str):
            
            self.data = [data.encode("utf-8")]
            self.headers.append(("Content-Type", "text/plain"))
            
        elif isinstance(data, dict):
            
            self.data = [json.dumps(data).encode("utf-8")]
            self.headers.append(("Content-Type", "application/json"))
        else:
            raise "What the fuck you trying to send bruh."
